<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BASFAY Uniforms — Shop</title>
    <meta
      name="description"
      content="BASFAY Uniforms — Quality & Affordable. Browse items, add to cart."
    />
    <meta name="theme-color" content="#1E88E5" />

    <!-- Styles -->
    <link rel="stylesheet" href="/styles.css?v=20260227-1" />

    <style>
      .is-hidden { display: none !important; }
    </style>
  </head>

  <body>
    <a class="skip" href="#main">Skip to content</a>

    <!-- Header -->
    <header class="header">
      <div class="container header-inner">
        <a class="brand" href="#main" aria-label="BASFAY home">
          <span class="brand-mark">B</span>
          <span class="brand-text">
            <span class="brand-name">BASFAY Uniforms</span>
            <span class="brand-sub">Quality & Affordable</span>
          </span>
        </a>
      </div>
    </header>

    <main id="main">
      <!-- HERO -->
      <section class="brand-hero">
        <div class="container brand-hero-inner">
          <div class="brand-badge">
            <div class="brand-logo">B</div>
            <div class="brand-lines">
              <h1>BASFAY Uniforms</h1>
              <p class="muted">Quality & Affordable</p>
            </div>
          </div>

          <div class="brand-right">
            <button class="cart-btn" id="openCart" type="button">
              <svg viewBox="0 0 24 24">
                <path
                  fill="currentColor"
                  d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2Zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2ZM6.2 6h14.6l-2.1 7.35c-.24.83-1 1.38-1.86 1.38H8.1c-.86 0-1.62-.55-1.86-1.38L3.8 3H2"
                />
              </svg>
              <span class="cart-badge" id="cartCount">0</span>
            </button>
          </div>
        </div>
      </section>

      <!-- SHOP -->
      <section class="section" id="shop">
        <div class="container">
          <div class="section-head">
            <h2>Catalog</h2>
            <p class="muted">Select size, add to cart.</p>
          </div>

          <div class="catalog">
            <div class="grid" id="productGrid"></div>

            <div class="empty" id="emptyState" hidden>
              <h3>No matches</h3>
              <p class="muted">Reset filters or try a broader search.</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- CART DRAWER -->
    <div class="drawer" id="drawer" aria-hidden="true">
      <div class="drawer-backdrop" id="drawerBackdrop"></div>
      <div class="drawer-panel">
        <div class="drawer-head">
          <h3>Your Cart</h3>
          <button id="closeDrawer">✕</button>
        </div>

        <div class="drawer-body">
          <div id="cartItems"></div>

          <div id="cartEmpty">
            <p><strong>No items yet.</strong></p>
            <p class="muted">Add products from the catalog.</p>
          </div>
        </div>

        <div class="drawer-foot">
          <div class="card soft pay-card">
            <div class="pay-title">Payment</div>

            <label>
              <input type="radio" name="payMethod" value="M-Pesa" checked />
              M-Pesa
            </label>

            <label>
              <input type="radio" name="payMethod" value="Cash" />
              Cash
            </label>
          </div>

          <a
            class="btn primary full"
            id="sendWhatsApp"
            href="#"
            target="_blank"
            >Proceed to checkout</a
          >

          <button class="btn ghost full" id="clearCart" type="button">
            Clear
          </button>
        </div>
      </div>
    </div>

    <!-- YEAR -->
    <script>
      document.addEventListener("DOMContentLoaded", function () {
        const y = document.getElementById("year");
        if (y) y.textContent = new Date().getFullYear();
      });
    </script>

    <!-- IMPORTANT: absolute path -->
    <script src="/app.js?v=20260227-2" defer></script>
  </body>
</html>

<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>BASFAYuniforms â€” Shop</title>
    <meta
      name="description"
      content="BASFAYuniforms â€” Shop by category, add to order, then WhatsApp checkout."
    />
    <meta name="theme-color" content="#1E88E5" />
    <link rel="stylesheet" href="./styles.css" />
  </head>

  <body>
    <a class="skip" href="#main">Skip to content</a>

    <!-- CLEAN HEADER (brand + cart only) -->
    <div class="topbar">
      <div class="container topbar-inner">
        <div class="topbar-left">
          <span class="pill">Pickup: Kangemi</span>
          <span class="muted">Delivery available (fee by area)</span>
        </div>
        <div class="topbar-right">
          <a
            class="topbar-link"
            id="topbarWhatsApp"
            href="https://wa.me/254119667836"
            rel="noopener"
            target="_blank"
            >WhatsApp</a
          >
          <a class="topbar-link" href="#contact">Contact</a>
        </div>
      </div>
    </div>

    <!-- Header (single brand, nav on the right, cart on top) -->
    <header class="header">
      <div class="container header-inner">
        <a class="brand" href="#shop" aria-label="BASFAYuniforms home">
          <span class="brand-mark" aria-hidden="true">B</span>
          <span class="brand-text">
            <span class="brand-name">BASFAYuniforms</span>
            <span class="brand-sub">School Uniforms</span>
          </span>
        </a>

        <div class="header-actions" style="margin-left:auto;">
          <nav class="nav" aria-label="Primary navigation" style="display:flex;">
            <a class="nav-link" href="#shop">Shop</a>
            <a class="nav-link" href="#delivery">Delivery</a>
            <a class="nav-link" href="#contact">Contact</a>
          </nav>

          <button class="icon-btn" id="openCart" aria-label="Open order list">
            <span aria-hidden="true">ðŸ§¾</span>
            <span class="badge" id="cartCount" aria-live="polite">0</span>
          </button>

          <a
            class="btn primary"
            id="headerWhatsApp"
            href="https://wa.me/254119667836"
            rel="noopener"
            target="_blank"
            >Order on WhatsApp</a
          >
        </div>
      </div>
    </header>

    <main id="main">
      <!-- Shop -->
      <section class="section" id="shop">
        <div class="container">
          <div class="section-head">
            <h2>Shop</h2>
            <p class="muted">Choose a category, select sizes, add to order, then WhatsApp checkout.</p>
          </div>

          <!-- Filters bar (THIS replaces the ugly top box + keeps JS IDs working) -->
          <div class="card soft" style="margin-top:14px;">
            <div class="field" style="margin-bottom:10px;">
              <label style="margin-bottom:8px; display:block;">Categories:</label>
              <!-- Your JS can render category chips here later if you add it.
                   For now you can keep static chips or leave blank. -->
              <div class="meta" id="categoryBar" style="gap:10px;">
                <span class="chip" style="cursor:pointer; outline:2px solid rgba(17,24,39,0.18);">All</span>
                <span class="chip" style="cursor:pointer;">Sweater</span>
                <span class="chip" style="cursor:pointer;">Dress</span>
                <span class="chip" style="cursor:pointer;">Shirt</span>
                <span class="chip" style="cursor:pointer;">Socks</span>
                <span class="chip" style="cursor:pointer;">Cardigan</span>
                <span class="chip" style="cursor:pointer;">Trousers</span>
                <span class="chip" style="cursor:pointer;">Accessory</span>
              </div>
            </div>

            <div class="filters" style="grid-template-columns: 1.3fr 1fr 1fr auto;">
              <div class="field">
                <label for="q">Search</label>
                <input id="q" type="search" placeholder="Search in selected category..." autocomplete="off" />
              </div>

              <div class="field">
                <label for="colorFilter">Color</label>
                <select id="colorFilter">
                  <option value="">All</option>
                </select>
              </div>

              <div class="field">
                <label for="sortBy">Sort</label>
                <select id="sortBy">
                  <option value="featured">Featured</option>
                  <option value="name_asc">Name (Aâ€“Z)</option>
                  <option value="name_desc">Name (Zâ€“A)</option>
                  <option value="price_asc">Price (Lowâ€“High)</option>
                  <option value="price_desc">Price (Highâ€“Low)</option>
                </select>
              </div>

              <div class="field" style="align-self:end;">
                <button class="btn small" id="clearFilters" type="button">Clear</button>
              </div>
            </div>

            <!-- Keep this hidden select so your JS filter still works without rewriting app.js -->
            <select id="typeFilter" style="display:none;">
              <option value="">All</option>
            </select>

            <div style="display:flex; justify-content:space-between; margin-top:12px; align-items:center;">
              <div><strong id="resultsCount">0</strong> items</div>
              <div class="muted">Prices in KES</div>
            </div>
          </div>

          <!-- Catalog -->
          <div class="catalog" id="catalog" aria-label="Product catalog" style="margin-top:14px;">
            <div class="grid" id="productGrid" aria-live="polite"></div>

            <div class="empty" id="emptyState" hidden>
              <h3>No matches</h3>
              <p class="muted">Clear filters or try a broader search.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Delivery -->
      <section class="section alt" id="delivery">
        <div class="container">
          <div class="section-head">
            <h2>Pickup & Delivery</h2>
            <p class="muted">Pickup: Kangemi â€¢ Delivery fee depends on your area.</p>
          </div>

          <div class="two-col">
            <div class="card">
              <h3>Pickup</h3>
              <p><strong>Location:</strong> Kangemi</p>
              <p class="muted">Directions shared on WhatsApp after ordering.</p>
            </div>
            <div class="card">
              <h3>Delivery</h3>
              <p><strong>Available:</strong> Yes</p>
              <p class="muted">Confirm fee and timing on WhatsApp.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Contact -->
      <section class="section" id="contact">
        <div class="container">
          <div class="section-head">
            <h2>Contact</h2>
            <p class="muted">Fastest way: WhatsApp.</p>
          </div>

          <div class="two-col">
            <div class="card">
              <h3>WhatsApp</h3>
              <p class="muted">Tap below to message BASFAY.</p>
              <a
                class="btn primary"
                id="contactWhatsApp"
                href="https://wa.me/254119667836"
                rel="noopener"
                target="_blank"
                >Message on WhatsApp</a
              >
            </div>

            <div class="card">
              <h3>Business hours</h3>
              <p class="muted">Add your hours here when ready.</p>
            </div>
          </div>
        </div>
      </section>
    </main>

    <footer class="footer">
      <div class="container footer-inner">
        <div class="footer-left">
          <div class="brand tiny">
            <span class="brand-mark" aria-hidden="true">B</span>
            <span class="brand-text">
              <span class="brand-name">BASFAYuniforms</span>
              <span class="brand-sub">School Uniforms</span>
            </span>
          </div>
          <p class="muted">Pickup: Kangemi â€¢ Delivery: fee by area â€¢ Quality fabrics â€¢ Fair pricing</p>
        </div>

        <div class="footer-right">
          <a class="footer-link" href="#shop">Shop</a>
          <a class="footer-link" href="#delivery">Delivery</a>
          <a class="footer-link" href="#contact">Contact</a>
          <a
            class="footer-link"
            id="footerWhatsApp"
            href="https://wa.me/254119667836"
            rel="noopener"
            target="_blank"
            >WhatsApp</a
          >
        </div>
      </div>

      <div class="container footer-bottom">
        <span class="muted">Â© <span id="year"></span> BASFAYuniforms</span>
      </div>
    </footer>

    <!-- Order Drawer -->
    <div class="drawer" id="drawer" aria-hidden="true">
      <div class="drawer-backdrop" id="drawerBackdrop"></div>
      <div class="drawer-panel" role="dialog" aria-modal="true" aria-label="Order list">
        <div class="drawer-head">
          <h3>Your order list</h3>
          <button class="icon-btn" id="closeDrawer" aria-label="Close order list">âœ•</button>
        </div>

        <div class="drawer-body">
          <div id="cartItems"></div>

          <div class="cart-empty" id="cartEmpty" hidden>
            <p><strong>No items yet.</strong></p>
            <p class="muted">Add products from the catalog.</p>
          </div>
        </div>

        <div class="drawer-foot">
          <div class="cart-note muted">Sizes are captured when you select size before adding.</div>
          <a
            class="btn primary full"
            id="sendWhatsApp"
            href="https://wa.me/254119667836"
            rel="noopener"
            target="_blank"
            >Send order on WhatsApp</a
          >
          <button class="btn ghost full" id="clearCart" type="button">Clear order list</button>
        </div>
      </div>
    </div>

    <!-- Product Modal -->
    <div class="modal" id="modal" aria-hidden="true">
      <div class="modal-backdrop" id="modalBackdrop"></div>
      <div class="modal-panel" role="dialog" aria-modal="true" aria-label="Product details">
        <div class="modal-head">
          <h3 id="modalTitle">Product</h3>
          <button class="icon-btn" id="closeModal" aria-label="Close product details">âœ•</button>
        </div>

        <div class="modal-body">
          <div class="modal-media" id="modalMedia"></div>
          <div class="modal-info">
            <div class="price" id="modalPrice"></div>
            <div class="meta" id="modalMeta"></div>
            <p class="muted" id="modalDesc"></p>

            <div class="modal-actions">
              <button class="btn primary" id="modalAdd" type="button">Add to order</button>
              <button class="btn ghost" id="modalOrderNow" type="button">Order now (WhatsApp)</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="./app.js" defer></script>
  </body>
</html>
